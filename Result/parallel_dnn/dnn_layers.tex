% This is wavefront experiment data
\begin{figure}[!h]
  \centering

  \pgfplotsset{
    title style={font=\LARGE \bfseries},
    label style={font=\huge},
    legend style={at={(0.5,0.97)}, anchor=north east},
    %ylabel style={rotate=-90},
  }

  \begin{tikzpicture}[scale=0.485]
    \begin{axis}[
      title=Hyperparamter search of 3-layer DNNs,
      enlargelimits,
      compat=newest,
      major grid style=white,
      %nodes near coords,
      %enlarge y limits={upper, value=0.1},
      %enlarge x limits = 0.2,
      bar width=13pt, 
      enlarge y limits={abs=0.45cm},
      width=\columnwidth,
      ybar=2pt,
      symbolic x coords={0, 10,30,50,70,90,100},
      xtick=data,
      xlabel=Number of epochs,
      ylabel=Runtime (min),
      label style={font=\LARGE},
      x tick label style={font=\Large},
      y tick label style={font=\Large}
    ]
    %\addplot table[x=x,y=OMP,col sep=space]{Result/parallel_dnn/layer_3_mins};
    \addplot table[x=x,y=TBB,col sep=space]{Result/parallel_dnn/layer_3_mins};
    \addplot table[x=x,y=TF,col sep=space]{Result/parallel_dnn/layer_3_mins};
    %\legend{OpenMP, TBB, Cpp-Taskflow}
    \legend{TBB, Cpp-Taskflow v2}
    \end{axis}
  \end{tikzpicture}
  \begin{tikzpicture}[scale=0.485]
    \begin{axis}[
      title=Hyperparamter search of 5-layer DNNs,
      enlargelimits,
      compat=newest,
      major grid style=white,
      %nodes near coords,
      %enlarge y limits={upper, value=0.1},
      %enlarge x limits = 0.2,
      bar width=13pt, 
      enlarge y limits={abs=0.45cm},
      width=\columnwidth,
      ybar=2pt,
      symbolic x coords={0, 10,30,50,70,90,100},
      xtick=data,
      xlabel=Number of epochs,
      ylabel=Runtime (min),
      label style={font=\LARGE},
      x tick label style={font=\Large},
      y tick label style={font=\Large}
    ]
    %\addplot table[x=x,y=OMP,col sep=space]{Result/parallel_dnn/layer_5_mins};
    \addplot table[x=x,y=TBB,col sep=space]{Result/parallel_dnn/layer_5_mins};
    \addplot table[x=x,y=TF,col sep=space]{Result/parallel_dnn/layer_5_mins};
    \legend{TBB, Cpp-Taskflow v2}
    %\legend{OpenMP, TBB, Cpp-Taskflow}
    \end{axis}
  \end{tikzpicture}
  \caption{Runtime of the parallel hyperparameter search of 3-layer (784x100x30x10) and 5-layer (784x64x32x16x8x10) DNNs.}
  \label{fig::parallel_dnn_layers}
\end{figure}
