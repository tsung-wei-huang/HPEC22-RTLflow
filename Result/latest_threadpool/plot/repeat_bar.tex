% This is wavefront experiment data
\begin{figure}[!h]
  \centering

  \pgfplotsset{
    title style={font=\LARGE \bfseries},
    label style={font=\LARGE},
    legend style={at={(0.7,0.97)}, anchor=north east}
    %ylabel style={rotate=-90},
  }
  \begin{tikzpicture}[scale=0.49]
    \begin{axis}[
      title= Stencil Code (block count: 250000),
      bar width=13pt,
      width=\columnwidth,
      %compat=newest,
      ybar=2pt,
      symbolic x coords={1,5,10,100},
      xtick=data,
      xlabel=Number of repeats,
      ylabel=Runtime (ms),
      label style={font=\LARGE},
      x tick label style={font=\Large},
      y tick label style={font=\Large}
    ]
    \addplot table[x=x,y=OMP,col sep=space]{Result/latest_threadpool/plot/has_stencil/repeat/summary.csv};
    \addplot table[x=x,y=TBB,col sep=space]{Result/latest_threadpool/plot/has_stencil/repeat/summary.csv};
    \addplot table[x=x,y=TF,col sep=space]{Result/latest_threadpool/plot/has_stencil/repeat/summary.csv};
    \legend{OpenMP, TBB, Cpp-Taskflow v2}
    \end{axis}
  \end{tikzpicture}
  \begin{tikzpicture}[scale=0.49]
    \begin{axis}[
      title=Graph Traversal (size: 711729),
      bar width=13pt,
      width=\columnwidth,
      %compat=newest,
      ybar=2pt,
      symbolic x coords={1,5,10,100},
      xtick=data,
      xlabel=Number of repeats,
      ylabel=Runtime (ms),
      label style={font=\LARGE},
      x tick label style={font=\Large},
      y tick label style={font=\Large}
    ]
    \addplot table[x=x,y=OMP,col sep=space]{Result/latest_threadpool/plot/framework/repeat/summary.csv};
    \addplot table[x=x,y=TBB,col sep=space]{Result/latest_threadpool/plot/framework/repeat/summary.csv};
    \addplot table[x=x,y=TF,col sep=space]{Result/latest_threadpool/plot/framework/repeat/summary.csv};
    \legend{OpenMP, TBB, Cpp-Taskflow v2} 
    \end{axis}
  \end{tikzpicture}

  \caption{Runtime comparisons on repeatedly executing the same task dependency graph between OpenMP, TBB and Cpp-Taskflow v2 with 14 CPUs.}
  \label{fig::framework_repeat}
\end{figure}
